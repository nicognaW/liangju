import{a as G,u as N,S as Ue,b as He,L as We,E as Be}from"./link-ByXApeGX.js";import{r as a,j as u}from"./jsx-runtime-DR3ia65l.js";import{u as ne,a as re,P as D,d as T,R as Ke,h as Ve,e as ze,F as Ye,D as se,r as qe,k as q,f as S,m as ae,b as ie,A as Xe,C as Ze,s as Je,g as Qe,l as et,c as tt,j as ot,i as nt}from"./Combination-sa213gay.js";import{c as rt}from"./utils-jM7Hu9J5.js";/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=G("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=G("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=G("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=G("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);function ct(e,t){return a.useReducer((o,n)=>t[o][n]??o,e)}var O=e=>{const{present:t,children:o}=e,n=lt(t),r=typeof o=="function"?o({present:n.isPresent}):a.Children.only(o),s=N(n.ref,ut(r));return typeof o=="function"||n.isPresent?a.cloneElement(r,{ref:s}):null};O.displayName="Presence";function lt(e){const[t,o]=a.useState(),n=a.useRef({}),r=a.useRef(e),s=a.useRef("none"),i=e?"mounted":"unmounted",[d,c]=ct(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return a.useEffect(()=>{const l=k(n.current);s.current=d==="mounted"?l:"none"},[d]),ne(()=>{const l=n.current,f=r.current;if(f!==e){const m=s.current,v=k(l);e?c("MOUNT"):v==="none"||(l==null?void 0:l.display)==="none"?c("UNMOUNT"):c(f&&m!==v?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,c]),ne(()=>{if(t){let l;const f=t.ownerDocument.defaultView??window,g=v=>{const h=k(n.current).includes(v.animationName);if(v.target===t&&h&&(c("ANIMATION_END"),!r.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",l=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},m=v=>{v.target===t&&(s.current=k(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{f.clearTimeout(l),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:a.useCallback(l=>{l&&(n.current=getComputedStyle(l)),o(l)},[])}}function k(e){return(e==null?void 0:e.animationName)||"none"}function ut(e){var n,r;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,o=t&&"isReactWarning"in t&&t.isReactWarning;return o?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,o=t&&"isReactWarning"in t&&t.isReactWarning,o?e.props.ref:e.props.ref||e.ref)}var X="Dialog",[ce,ro]=re(X),[dt,R]=ce(X),le=e=>{const{__scopeDialog:t,children:o,open:n,defaultOpen:r,onOpenChange:s,modal:i=!0}=e,d=a.useRef(null),c=a.useRef(null),[l=!1,f]=q({prop:n,defaultProp:r,onChange:s});return u.jsx(dt,{scope:t,triggerRef:d,contentRef:c,contentId:S(),titleId:S(),descriptionId:S(),open:l,onOpenChange:f,onOpenToggle:a.useCallback(()=>f(g=>!g),[f]),modal:i,children:o})};le.displayName=X;var ue="DialogTrigger",ft=a.forwardRef((e,t)=>{const{__scopeDialog:o,...n}=e,r=R(ue,o),s=N(t,r.triggerRef);return u.jsx(D.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":Q(r.open),...n,ref:s,onClick:T(e.onClick,r.onOpenToggle)})});ft.displayName=ue;var Z="DialogPortal",[pt,de]=ce(Z,{forceMount:void 0}),fe=e=>{const{__scopeDialog:t,forceMount:o,children:n,container:r}=e,s=R(Z,t);return u.jsx(pt,{scope:t,forceMount:o,children:a.Children.map(n,i=>u.jsx(O,{present:o||s.open,children:u.jsx(ae,{asChild:!0,container:r,children:i})}))})};fe.displayName=Z;var L="DialogOverlay",pe=a.forwardRef((e,t)=>{const o=de(L,e.__scopeDialog),{forceMount:n=o.forceMount,...r}=e,s=R(L,e.__scopeDialog);return s.modal?u.jsx(O,{present:n||s.open,children:u.jsx(gt,{...r,ref:t})}):null});pe.displayName=L;var gt=a.forwardRef((e,t)=>{const{__scopeDialog:o,...n}=e,r=R(L,o);return u.jsx(Ke,{as:Ue,allowPinchZoom:!0,shards:[r.contentRef],children:u.jsx(D.div,{"data-state":Q(r.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),_="DialogContent",ge=a.forwardRef((e,t)=>{const o=de(_,e.__scopeDialog),{forceMount:n=o.forceMount,...r}=e,s=R(_,e.__scopeDialog);return u.jsx(O,{present:n||s.open,children:s.modal?u.jsx(mt,{...r,ref:t}):u.jsx(vt,{...r,ref:t})})});ge.displayName=_;var mt=a.forwardRef((e,t)=>{const o=R(_,e.__scopeDialog),n=a.useRef(null),r=N(t,o.contentRef,n);return a.useEffect(()=>{const s=n.current;if(s)return Ve(s)},[]),u.jsx(me,{...e,ref:r,trapFocus:o.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:T(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=o.triggerRef.current)==null||i.focus()}),onPointerDownOutside:T(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,d=i.button===0&&i.ctrlKey===!0;(i.button===2||d)&&s.preventDefault()}),onFocusOutside:T(e.onFocusOutside,s=>s.preventDefault())})}),vt=a.forwardRef((e,t)=>{const o=R(_,e.__scopeDialog),n=a.useRef(!1),r=a.useRef(!1);return u.jsx(me,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,d;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(n.current||(d=o.triggerRef.current)==null||d.focus(),s.preventDefault()),n.current=!1,r.current=!1},onInteractOutside:s=>{var c,l;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const i=s.target;((l=o.triggerRef.current)==null?void 0:l.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&r.current&&s.preventDefault()}})}),me=a.forwardRef((e,t)=>{const{__scopeDialog:o,trapFocus:n,onOpenAutoFocus:r,onCloseAutoFocus:s,...i}=e,d=R(_,o),c=a.useRef(null),l=N(t,c);return ze(),u.jsxs(u.Fragment,{children:[u.jsx(Ye,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:r,onUnmountAutoFocus:s,children:u.jsx(se,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Q(d.open),...i,ref:l,onDismiss:()=>d.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(ht,{titleId:d.titleId}),u.jsx(Ct,{contentRef:c,descriptionId:d.descriptionId})]})]})}),J="DialogTitle",ve=a.forwardRef((e,t)=>{const{__scopeDialog:o,...n}=e,r=R(J,o);return u.jsx(D.h2,{id:r.titleId,...n,ref:t})});ve.displayName=J;var he="DialogDescription",xe=a.forwardRef((e,t)=>{const{__scopeDialog:o,...n}=e,r=R(he,o);return u.jsx(D.p,{id:r.descriptionId,...n,ref:t})});xe.displayName=he;var Ce="DialogClose",ye=a.forwardRef((e,t)=>{const{__scopeDialog:o,...n}=e,r=R(Ce,o);return u.jsx(D.button,{type:"button",...n,ref:t,onClick:T(e.onClick,()=>r.onOpenChange(!1))})});ye.displayName=Ce;function Q(e){return e?"open":"closed"}var Te="DialogTitleWarning",[so,be]=qe(Te,{contentName:_,titleName:J,docsSlug:"dialog"}),ht=({titleId:e})=>{const t=be(Te),o=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return a.useEffect(()=>{e&&(document.getElementById(e)||console.error(o))},[o,e]),null},xt="DialogDescriptionWarning",Ct=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${be(xt).contentName}}.`;return a.useEffect(()=>{var s;const r=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},ao=le,io=fe,co=pe,lo=ge,uo=ve,fo=xe,po=ye,[$,go]=re("Tooltip",[ie]),U=ie(),Re="TooltipProvider",yt=700,V="tooltip.open",[Tt,ee]=$(Re),Ee=e=>{const{__scopeTooltip:t,delayDuration:o=yt,skipDelayDuration:n=300,disableHoverableContent:r=!1,children:s}=e,[i,d]=a.useState(!0),c=a.useRef(!1),l=a.useRef(0);return a.useEffect(()=>{const f=l.current;return()=>window.clearTimeout(f)},[]),u.jsx(Tt,{scope:t,isOpenDelayed:i,delayDuration:o,onOpen:a.useCallback(()=>{window.clearTimeout(l.current),d(!1)},[]),onClose:a.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>d(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:a.useCallback(f=>{c.current=f},[]),disableHoverableContent:r,children:s})};Ee.displayName=Re;var H="Tooltip",[bt,F]=$(H),we=e=>{const{__scopeTooltip:t,children:o,open:n,defaultOpen:r=!1,onOpenChange:s,disableHoverableContent:i,delayDuration:d}=e,c=ee(H,e.__scopeTooltip),l=U(t),[f,g]=a.useState(null),m=S(),v=a.useRef(0),p=i??c.disableHoverableContent,h=d??c.delayDuration,x=a.useRef(!1),[y=!1,C]=q({prop:n,defaultProp:r,onChange:M=>{M?(c.onOpen(),document.dispatchEvent(new CustomEvent(V))):c.onClose(),s==null||s(M)}}),E=a.useMemo(()=>y?x.current?"delayed-open":"instant-open":"closed",[y]),P=a.useCallback(()=>{window.clearTimeout(v.current),x.current=!1,C(!0)},[C]),w=a.useCallback(()=>{window.clearTimeout(v.current),C(!1)},[C]),j=a.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{x.current=!0,C(!0)},h)},[h,C]);return a.useEffect(()=>()=>window.clearTimeout(v.current),[]),u.jsx(et,{...l,children:u.jsx(bt,{scope:t,contentId:m,open:y,stateAttribute:E,trigger:f,onTriggerChange:g,onTriggerEnter:a.useCallback(()=>{c.isOpenDelayed?j():P()},[c.isOpenDelayed,j,P]),onTriggerLeave:a.useCallback(()=>{p?w():window.clearTimeout(v.current)},[w,p]),onOpen:P,onClose:w,disableHoverableContent:p,children:o})})};we.displayName=H;var z="TooltipTrigger",De=a.forwardRef((e,t)=>{const{__scopeTooltip:o,...n}=e,r=F(z,o),s=ee(z,o),i=U(o),d=a.useRef(null),c=N(t,d,r.onTriggerChange),l=a.useRef(!1),f=a.useRef(!1),g=a.useCallback(()=>l.current=!1,[]);return a.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),u.jsx(Xe,{asChild:!0,...i,children:u.jsx(D.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...n,ref:c,onPointerMove:T(e.onPointerMove,m=>{m.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(r.onTriggerEnter(),f.current=!0)}),onPointerLeave:T(e.onPointerLeave,()=>{r.onTriggerLeave(),f.current=!1}),onPointerDown:T(e.onPointerDown,()=>{l.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:T(e.onFocus,()=>{l.current||r.onOpen()}),onBlur:T(e.onBlur,r.onClose),onClick:T(e.onClick,r.onClose)})})});De.displayName=z;var te="TooltipPortal",[Rt,Et]=$(te,{forceMount:void 0}),Pe=e=>{const{__scopeTooltip:t,forceMount:o,children:n,container:r}=e,s=F(te,t);return u.jsx(Rt,{scope:t,forceMount:o,children:u.jsx(O,{present:o||s.open,children:u.jsx(ae,{asChild:!0,container:r,children:n})})})};Pe.displayName=te;var A="TooltipContent",Ie=a.forwardRef((e,t)=>{const o=Et(A,e.__scopeTooltip),{forceMount:n=o.forceMount,side:r="top",...s}=e,i=F(A,e.__scopeTooltip);return u.jsx(O,{present:n||i.open,children:i.disableHoverableContent?u.jsx(_e,{side:r,...s,ref:t}):u.jsx(wt,{side:r,...s,ref:t})})}),wt=a.forwardRef((e,t)=>{const o=F(A,e.__scopeTooltip),n=ee(A,e.__scopeTooltip),r=a.useRef(null),s=N(t,r),[i,d]=a.useState(null),{trigger:c,onClose:l}=o,f=r.current,{onPointerInTransitChange:g}=n,m=a.useCallback(()=>{d(null),g(!1)},[g]),v=a.useCallback((p,h)=>{const x=p.currentTarget,y={x:p.clientX,y:p.clientY},C=_t(y,x.getBoundingClientRect()),E=Nt(y,C),P=At(h.getBoundingClientRect()),w=Mt([...E,...P]);d(w),g(!0)},[g]);return a.useEffect(()=>()=>m(),[m]),a.useEffect(()=>{if(c&&f){const p=x=>v(x,f),h=x=>v(x,c);return c.addEventListener("pointerleave",p),f.addEventListener("pointerleave",h),()=>{c.removeEventListener("pointerleave",p),f.removeEventListener("pointerleave",h)}}},[c,f,v,m]),a.useEffect(()=>{if(i){const p=h=>{const x=h.target,y={x:h.clientX,y:h.clientY},C=(c==null?void 0:c.contains(x))||(f==null?void 0:f.contains(x)),E=!Ot(y,i);C?m():E&&(m(),l())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[c,f,i,l,m]),u.jsx(_e,{...e,ref:s})}),[Dt,Pt]=$(H,{isInside:!1}),_e=a.forwardRef((e,t)=>{const{__scopeTooltip:o,children:n,"aria-label":r,onEscapeKeyDown:s,onPointerDownOutside:i,...d}=e,c=F(A,o),l=U(o),{onClose:f}=c;return a.useEffect(()=>(document.addEventListener(V,f),()=>document.removeEventListener(V,f)),[f]),a.useEffect(()=>{if(c.trigger){const g=m=>{const v=m.target;v!=null&&v.contains(c.trigger)&&f()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[c.trigger,f]),u.jsx(se,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:g=>g.preventDefault(),onDismiss:f,children:u.jsxs(Ze,{"data-state":c.stateAttribute,...l,...d,ref:t,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(He,{children:n}),u.jsx(Dt,{scope:o,isInside:!0,children:u.jsx(Je,{id:c.contentId,role:"tooltip",children:r||n})})]})})});Ie.displayName=A;var Ne="TooltipArrow",It=a.forwardRef((e,t)=>{const{__scopeTooltip:o,...n}=e,r=U(o);return Pt(Ne,o).isInside?null:u.jsx(Qe,{...r,...n,ref:t})});It.displayName=Ne;function _t(e,t){const o=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),r=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(o,n,r,s)){case s:return"left";case r:return"right";case o:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Nt(e,t,o=5){const n=[];switch(t){case"top":n.push({x:e.x-o,y:e.y+o},{x:e.x+o,y:e.y+o});break;case"bottom":n.push({x:e.x-o,y:e.y-o},{x:e.x+o,y:e.y-o});break;case"left":n.push({x:e.x+o,y:e.y-o},{x:e.x+o,y:e.y+o});break;case"right":n.push({x:e.x-o,y:e.y-o},{x:e.x-o,y:e.y+o});break}return n}function At(e){const{top:t,right:o,bottom:n,left:r}=e;return[{x:r,y:t},{x:o,y:t},{x:o,y:n},{x:r,y:n}]}function Ot(e,t){const{x:o,y:n}=e;let r=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const d=t[s].x,c=t[s].y,l=t[i].x,f=t[i].y;c>n!=f>n&&o<(l-d)*(n-c)/(f-c)+d&&(r=!r)}return r}function Mt(e){const t=e.slice();return t.sort((o,n)=>o.x<n.x?-1:o.x>n.x?1:o.y<n.y?-1:o.y>n.y?1:0),St(t)}function St(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const r=e[n];for(;t.length>=2;){const s=t[t.length-1],i=t[t.length-2];if((s.x-i.x)*(r.y-i.y)>=(s.y-i.y)*(r.x-i.x))t.pop();else break}t.push(r)}t.pop();const o=[];for(let n=e.length-1;n>=0;n--){const r=e[n];for(;o.length>=2;){const s=o[o.length-1],i=o[o.length-2];if((s.x-i.x)*(r.y-i.y)>=(s.y-i.y)*(r.x-i.x))o.pop();else break}o.push(r)}return o.pop(),t.length===1&&o.length===1&&t[0].x===o[0].x&&t[0].y===o[0].y?t:t.concat(o)}var Ft=Ee,jt=we,kt=De,Lt=Pe,Ae=Ie;const mo=Ft,vo=jt,ho=kt,Gt=a.forwardRef(({className:e,sideOffset:t=4,...o},n)=>u.jsx(Lt,{children:u.jsx(Ae,{ref:n,sideOffset:t,className:rt("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...o})}));Gt.displayName=Ae.displayName;const xo={"/dashboard/event-types":"活动类型","/dashboard/bookings":"预约"},Co=[{title:"活动类型",url:"/dashboard/event-types",icon:We,isActive:!0},{title:"预约",url:"/dashboard/bookings",icon:st}],yo=[{title:"查看访客视角页面",url:"#",icon:Be},{title:"复制公共页面链接",url:"#",icon:at},{title:"设置",url:"#",icon:it}],To={name:"Nico",email:"nicognaw@outlook.com",avatar:"https://avatars.githubusercontent.com/u/66731869?s=40&v=4"};function $t(e,t=[]){let o=[];function n(s,i){const d=a.createContext(i),c=o.length;o=[...o,i];function l(g){const{scope:m,children:v,...p}=g,h=(m==null?void 0:m[e][c])||d,x=a.useMemo(()=>p,Object.values(p));return u.jsx(h.Provider,{value:x,children:v})}function f(g,m){const v=(m==null?void 0:m[e][c])||d,p=a.useContext(v);if(p)return p;if(i!==void 0)return i;throw new Error(`\`${g}\` must be used within \`${s}\``)}return l.displayName=s+"Provider",[l,f]}const r=()=>{const s=o.map(i=>a.createContext(i));return function(d){const c=(d==null?void 0:d[e])||s;return a.useMemo(()=>({[`__scope${e}`]:{...d,[e]:c}}),[d,c])}};return r.scopeName=e,[n,Ut(r,...t)]}function Ut(...e){const t=e[0];if(e.length===1)return t;const o=()=>{const n=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const i=n.reduce((d,{useScope:c,scopeName:l})=>{const g=c(s)[`__scope${l}`];return{...d,...g}},{});return a.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return o.scopeName=t.scopeName,o}var K="rovingFocusGroup.onEntryFocus",Ht={bubbles:!1,cancelable:!0},W="RovingFocusGroup",[Y,Oe,Wt]=tt(W),[Bt,bo]=$t(W,[Wt]),[Kt,Vt]=Bt(W),Me=a.forwardRef((e,t)=>u.jsx(Y.Provider,{scope:e.__scopeRovingFocusGroup,children:u.jsx(Y.Slot,{scope:e.__scopeRovingFocusGroup,children:u.jsx(zt,{...e,ref:t})})}));Me.displayName=W;var zt=a.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:o,orientation:n,loop:r=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:c,onEntryFocus:l,preventScrollOnEntryFocus:f=!1,...g}=e,m=a.useRef(null),v=N(t,m),p=ot(s),[h=null,x]=q({prop:i,defaultProp:d,onChange:c}),[y,C]=a.useState(!1),E=nt(l),P=Oe(o),w=a.useRef(!1),[j,M]=a.useState(0);return a.useEffect(()=>{const b=m.current;if(b)return b.addEventListener(K,E),()=>b.removeEventListener(K,E)},[E]),u.jsx(Kt,{scope:o,orientation:n,dir:p,loop:r,currentTabStopId:h,onItemFocus:a.useCallback(b=>x(b),[x]),onItemShiftTab:a.useCallback(()=>C(!0),[]),onFocusableItemAdd:a.useCallback(()=>M(b=>b+1),[]),onFocusableItemRemove:a.useCallback(()=>M(b=>b-1),[]),children:u.jsx(D.div,{tabIndex:y||j===0?-1:0,"data-orientation":n,...g,ref:v,style:{outline:"none",...e.style},onMouseDown:T(e.onMouseDown,()=>{w.current=!0}),onFocus:T(e.onFocus,b=>{const ke=!w.current;if(b.target===b.currentTarget&&ke&&!y){const oe=new CustomEvent(K,Ht);if(b.currentTarget.dispatchEvent(oe),!oe.defaultPrevented){const B=P().filter(I=>I.focusable),Le=B.find(I=>I.active),Ge=B.find(I=>I.id===h),$e=[Le,Ge,...B].filter(Boolean).map(I=>I.ref.current);je($e,f)}}w.current=!1}),onBlur:T(e.onBlur,()=>C(!1))})})}),Se="RovingFocusGroupItem",Fe=a.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:o,focusable:n=!0,active:r=!1,tabStopId:s,...i}=e,d=S(),c=s||d,l=Vt(Se,o),f=l.currentTabStopId===c,g=Oe(o),{onFocusableItemAdd:m,onFocusableItemRemove:v}=l;return a.useEffect(()=>{if(n)return m(),()=>v()},[n,m,v]),u.jsx(Y.ItemSlot,{scope:o,id:c,focusable:n,active:r,children:u.jsx(D.span,{tabIndex:f?0:-1,"data-orientation":l.orientation,...i,ref:t,onMouseDown:T(e.onMouseDown,p=>{n?l.onItemFocus(c):p.preventDefault()}),onFocus:T(e.onFocus,()=>l.onItemFocus(c)),onKeyDown:T(e.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){l.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const h=Xt(p,l.orientation,l.dir);if(h!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let y=g().filter(C=>C.focusable).map(C=>C.ref.current);if(h==="last")y.reverse();else if(h==="prev"||h==="next"){h==="prev"&&y.reverse();const C=y.indexOf(p.currentTarget);y=l.loop?Zt(y,C+1):y.slice(C+1)}setTimeout(()=>je(y))}})})})});Fe.displayName=Se;var Yt={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function qt(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Xt(e,t,o){const n=qt(e.key,o);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Yt[n]}function je(e,t=!1){const o=document.activeElement;for(const n of e)if(n===o||(n.focus({preventScroll:t}),document.activeElement!==o))return}function Zt(e,t){return e.map((o,n)=>e[(t+n)%e.length])}var Ro=Me,Eo=Fe;export{lo as C,fo as D,Eo as I,co as O,O as P,ao as R,uo as T,po as a,io as b,mo as c,vo as d,ho as e,Gt as f,no as g,bo as h,Ro as i,yo as j,xo as k,st as l,Co as n,To as u};
